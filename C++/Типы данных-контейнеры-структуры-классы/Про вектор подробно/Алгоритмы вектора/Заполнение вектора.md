Меандр состоит из повторяющихся элементов. Чтобы заполнять векторы с повторяющимся набором элементов, существует специальный алгоритм — `std::fill`. Он берёт два итератора и заполняет все элементы между ними нужным значением, которое указывается третьим параметром:

```cpp
// Конструктор создаст вектор из 20 букв a:
vector<string> repeat(20, "a");

// Напечатаем 20 a:
PrintVector(repeat);

// Заполним вектор буквами b и напечатаем 20 букв b:
std::fill(repeat.begin(), repeat.end(), "b");
PrintVector(repeat);

// Заполним начало буквами c и напечатаем 10 букв c и 10 букв b:
std::fill(repeat.begin(), repeat.begin() + 10, "c");
PrintVector(repeat); 
```

Результат работы `std::fill` можно изобразить следующим образом:

![](https://code.s3.yandex.net/CPP/assets/c01_2024/s04_containers_and_algorithms/fill_vector.png)

_Заполнение вектора с помощью std::fill_

(Или от начала до конца)

![](https://code.s3.yandex.net/CPP/assets/c01_2024/s04_containers_and_algorithms/fill_vector_var2.png)

_Заполнение вектора с помощью std::fill_

Вернёмся к меандру и заполним один виток волны — 200 отсчётов (одиночный меандр), используя алгоритм `fill`. Чтобы сделать это, нужно вызвать `std::fill` дважды: для заполнения положительными значениями и для заполнения отрицательными. Это выглядит так:

```cpp
std::vector<int> meander(48000, 0);

// Заполним первые 200 отсчётов – одиночный меандр.
std::fill(meander.begin(), meander.begin() + 100, 10000);
std::fill(meander.begin() + 100, meander.begin() + 200, -10000); 
```

Если создать вектор с пятью элементами и использовать `meander.begin() + 10`, то это приведёт к неопределённому поведению. Алгоритм `std::fill` не занимается созданием новых ячеек и изменением размера вектора.

У алгоритма `std::fill` есть напарник `std::fill_n`, он в качестве второго параметра принимает не итератор, а количество элементов. Как и `std::fill`, этот алгоритм проходит по элементам вектора, начиная от начального итератора и меняя значения:

```cpp
std::fill_n(meander.begin(), 100, 10000); 
```

Как это работает:

![](https://code.s3.yandex.net/CPP/assets/c01_2024/s04_containers_and_algorithms/fill_vector_var3.png)