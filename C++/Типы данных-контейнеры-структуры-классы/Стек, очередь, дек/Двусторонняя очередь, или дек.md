**Двусторонняя очередь** — это очередь, в которой добавлять и удалять элементы можно с обоих концов. В C++ контейнер `std::deque` (от англ. double-ended queue — «дек», «двусторонняя очередь») реализует этот интерфейс.

```cpp
std::deque<int> deque;
// Такой же интерфейс, как у вектора для работы с последними элементами.
deque.push_back(2);
// Но ещё есть эффективные методы для добавления и удаления первых элементов.
deque.push_front(1);
std::cout << deque.front() << " "s << deque.back() << std::endl; // 1 2

// Удалим последний элемент. Останется всего один: начало и конец одинаковые.
deque.pop_back();
std::cout << deque.front() << " "s << deque.back() << std::endl; // 1 1 
```

![](https://code.s3.yandex.net/CPP/assets/c01_2024/s04_containers_and_algorithms/image_4.png)

`std::deque` позволяет изменять элементы как в начале, так и в конце, значит, можно использовать `std::deque` вместо стека или очереди. Например, если использовать только методы `push_back` и `pop_front`, то так мы работаем с деком как с обычной очередью.

Ещё один контейнер в C++, подходящий под интерфейс двухсторонней очереди, — `std::list`. Это **двусвязный список**, который состоит из последовательности элементов, связанных друг с другом указателями.

![](https://code.s3.yandex.net/CPP/assets/c01_2024/s04_containers_and_algorithms/image_5.png)

Двусвязный список можно использовать и как очередь, и как стек, и как двустороннюю очередь — он позволяет эффективно работать с первым и последним элементом. Но на практике это не лучший выбор: `std::deque` часто оказывается производительнее.

Как реализован `std::deque` и почему он быстрее, чем `std::list`? `std::deque` можно представить как список, где в каждой части хранится не один (как в обычном `std::list`), а несколько элементов. За счёт более плотного расположения элементов он оказывается быстрее. В отличие от `std::list`, элементы дека добавляются и удаляются только в начале и конце. А значит, максимум только две части дека будут не заполнены — первая и последняя. В некотором смысле `std::deque` — это гибрид `std::list` и `std::vector`.