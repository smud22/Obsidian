Рассмотрим объявление перегрузки для операции ввода.

```c
using PairInt = std::pair<int, int>;

std::istream& operator>>(std::istream& is, PairInt& pair_int) { ... } 
```

Как и в случае с выводом, функция возвращает ссылку на поток — теперь вы знаете, что это нужно для реализации каскадирования. Первый параметр — объект типа `istream`, который и здесь передаётся в виде неконстантной ссылки. Второй параметр — переменная для записи. Она передаётся по ссылке, так как её значение будет меняться внутри функции, и эти изменения должны быть видны снаружи.

Полная перегрузка ввода может выглядеть так.

```c
using PairInt = std::pair<int, int>;

std::istream& operator>>(std::istream& is, PairInt& pair_int) {
    is >> pair_int.first >> pair_int.second; // Записываем значения.
    return is; // Возвращаем ссылку на поток.
}

int main() {
    PairInt p;

    // Создаём объект потока istringstream, содержащий значения 6 и 27.
    std::istringstream istring_stream("6 27"s);                        
    istring_stream >> p; // Записываем его в пару.

    std::cout << p.first << "_"s << p.second; // 6_27.
} 
```

Здесь мы использовали тип `istringstream` для записи значений в пару. Это аналогично вызову `std::cin >> p` и введению в консоль строки «6 27».

Бывает, что ввод и вывод нужно перегрузить для более сложных типов, например классов, имеющих приватные переменные. Чтобы у перегрузок операций был доступ к ним, их необходимо объявить как дружественные функции.

```c
class Date{
public:
    Date() = default;
    Date(int y, int m, int d): y_(y), m_(m), d_(d) {};
    
    // Объявляем перегрузки как дружественные функции.
    friend std::istream& operator>>(std::istream& is, Date& date);
    friend std::ostream& operator<<(std::ostream& os, const Date& date);

private:
    int y_, m_, d_;
};

// Перегрузка ввода для Date.
std::istream& operator>>(std::istream& is, Date& date) {
    int y, m, d;
    is >> y >> m >> d;
    date.y_ = y; // Есть доступ к private-переменным.
    date.m_ = m;
    date.d_ = d;
    return is;
}

// Перегрузка вывода для Date.
std::ostream& operator<<(std::ostream& os, const Date& date) {
    os << date.y_ << "."s << date.m_ << "."s << date.d_;
    return os;
} 
```

Теперь перегруженные операции можно использовать, чтобы записывать и читать значения класса.

```c
Date date;
    
std::istringstream istring_stream("25 12 2000"s);                 

istring_stream >> date; // Считываем строку "25 12 2000" из потока в объект Date.
std::cout << date; // Выводим дату: 25.12.2000. 
```