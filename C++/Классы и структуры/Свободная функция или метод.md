Какой способ предпочтителен? Увы, на этот вопрос нет однозначного ответа. Рассмотрим достоинства каждого подхода. Они применимы как к классам, так и к структурам.

За и против методов:

➕ `p.OffsetByVector(v);` записывается короче, чем `OffsetPointByVector(p, v);`. ➕ Очевидно, что операция применяется к точке, так как мы вызываем метод структуры `Point`. ➕ Метод легче обнаружить — для этого достаточно взглянуть на структуру `Point`. После того как вы напишете `p.`, многие IDE подскажут, какие в этой структуре есть методы. ➖ Метод `OffsetByVector` добавляет в структуру `Point` зависимость от структуры `Vector`. Вы не сможете использовать в программе структуру `Point`, не используя структуру `Vector`. Изменения в `Vector` могут оказать влияние на структуру `Point`. Если структура `Vector` — часть какой-то крупной библиотеки, то зависимость от `Vector` добавляет в структуру зависимость от целой библиотеки. ➖ Чтобы добавить или изменить метод, код структуры или класса должен быть под вашим контролем. Если вы автор кода, это не проблема, но если вы используете структуру или класс из внешней библиотеки, то после обновления библиотеки вам придётся ещё раз вносить изменения. Кроме того, лицензия библиотеки может запрещать вносить в неё изменения или накладывать на вас какие-то обязательства в случае модификации кода.

За и против свободных функций:

➕ `Point` не зависит от `Vector`. Если вы используете структуру `Point`, то не обязаны использовать `Vector`. Изменения в `Vector` не повлияют на `Point`. ➕ Чтобы написать свободную функцию, вам не нужно контролировать код структур `Point` и `Vector`. Если бы они были частью внешней библиотеки, всегда можно было бы написать использующую их функцию в своей программе и не переживать из-за обновлений библиотеки. Многие лицензии накладывают на вас меньше обязательств, если вы используете библиотеку, не изменяя её код. ➖ Из структуры `Point` не очевидно, что где-то в программе есть функция, сдвигающая точку на величину вектора. Особенно если эта функция объявлена в другом файле. Это может привести к тому, что программист напишет ещё один вариант этой функции или выполнит перемещение точки вручную. ➖ Если публичный интерфейс класса не позволяет решить задачу, то придётся добавить метод.

**Используйте свободные функции, если можете, а методы — если должны.**