Когда файл по какой-либо причине уже добавлен в индекс, но в коммит он попасть не должен, его можно перевести обратно в первоначальный статус. С этим поможет команда `git restore --staged <file>` (от англ. restore — «восстановить»).

Вот как это будет выглядеть:

```sh
# Создать файл и добавить его в индекс.
$ touch bad.cpp
$ git add bad.cpp

$ git status
On branch master
Your branch is up to date with 'origin/master'.

Changes to be committed:
  # Git подсказывает, какую команду надо использовать для переноса из индекса.
  (use "git restore --staged <file>..." to unstage)
        new file:   bad.cpp

$ git restore --staged bad.cpp
$ git status
On branch master
Your branch is up to date with 'origin/master'.

Untracked files:
  (use "git add <file>..." to include in what will be committed)
        bad.cpp

nothing added to commit but untracked files present (use "git add" to track) 
```

После выполнения команды `git restore --staged` файл bad.cpp снова перешёл в статус «неотслеживаемый».