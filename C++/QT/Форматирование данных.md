В Qt тоже есть встроенные инструменты для форматирования строк, и удобнее всего использовать для этого `QString`. Поскольку тема посвящена Qt, рекомендуем в задачах использовать именно этот способ.

Принцип работы похож на другие способы форматирования. В `QString` встраиваются плейсхолдеры вида `%1`, `%2` и так далее. Затем с помощью метода `arg` они заменяются на заданное значение.

```cpp
QString result = "Сегодня %1.%2.%3! %4 %5.";

// По очереди подставляем аргументы:
QString formatted = result.arg(day).arg(month).arg(year).arg(name).arg(surname);

lbl_awesome.setText(formatted); 
```

Как вы видите, `arg` вызывается несколько раз, и каждый вызов заменяет следующий плейсхолдер.

В каком порядке окажутся цвета в строке при выполнении следующего кода?

```cpp
QString("%3 %1 %5 %2 %4").arg("красный").arg("жёлтый").arg("зелёный").arg("белый").arg("серый") 
```
  
Нужно учитывать ещё один момент. Дату мы привыкли видеть определённого формата: `11.06`, а не `11.6`. Чтобы получить такой формат, нужно дополнить параметр нулём с левой стороны до двух символов. Это можно сделать так:

```cpp
QString result = "Сегодня %1.%2.%3! %4 %5.";

// Передаём в arg такие параметры: 
//  - само число;
//  - желаемая длина (2 символа);
//  - система счисления (десятичная система);
//  - символ, которым хотим дополнить (ноль).
QString formatted = result
      .arg(day, 2, 10, QChar('0'))
      .arg(month, 2, 10, QChar('0')).arg(year).arg(name).arg(surname);

lbl_awesome.setText(formatted); 
```

![[Pasted image 20251230204340.png]]
Метод `arg` применяется только к `QString` и не применим к `std::string`. Чаще всего исходная строка задаётся литералом, который имеет тип `const char*`. Чтобы применить `arg`, преобразуем литерал в `QString`:

```cpp
QString name = "Иван";
QString surname = "Иванов";
ui->lbl_welcome_text->setText(QString("Здравствуйте, %1 %2!").arg(name).arg(surname)); 
```

Если в итоге требуется получить `std::string` (например, чтобы передать в функцию, которая принимает `std::string`), то можно преобразовать `QString` в `std::string` методом `toStdString`:

```cpp
QString name = "Иван";
QString surname = "Иванов";
std::string welcome_text = QString("Здравствуйте, %1 %2!").arg(name).arg(surname).toStdString(); 
```

